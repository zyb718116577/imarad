(function(e){"use strict";typeof define=="function"?(define.cmd&&define("jquery-step",["jquery"],function(t,n,r){var i=t("jquery");return e(i),i}),define.amd&&define(["jquery"],e)):e(typeof jQuery!="undefined"?jQuery:window.Zepto)})(function(){$.fn.step=function(e){var t=$.extend({},$.fn.step.defaults,e),n=this.find(".step-header li").length,r=t.initStep<n?100/(2*n)+100*(t.initStep-1)/n:100,i=t.initStep;return this.find(".step-header").prepend('<div class="step-bar"><div class="step-bar-active"></div></div>'),this.find(".step-list").eq(t.initStep-1).show(),n<t.initStep&&(t.initStep=n),t.animate==0&&(t.speed=0),this.find(".step-header li").each(function(e,n){e<t.initStep&&$(n).addClass("step-active"),$(n).append("<span>"+(e+1)+"</span>")}),this.find(".step-header li").css({width:100/n+"%"}),this.find(".step-header").show(),this.find(".step-bar-active").animate({width:r+"%"},t.speed,function(){}),this.nextStep=function(){return i>=n?!1:this.goStep(i+1)},this.preStep=function(){return i<=1?!1:this.goStep(i-1)},this.goStep=function(e){return e==undefined||isNaN(e)||e<0?(window.console&&window.console.error&&console.error("the method goStep has a error,page:"+e),!1):(i=e,this.find(".step-list").hide(),this.find(".step-list").eq(i-1).show(),this.find(".step-header li").each(function(n,r){$li=$(r),$li.removeClass("step-active"),n<e&&($li.addClass("step-active"),t.scrollTop&&$("html,body").animate({scrollTop:0},"slow"))}),r=e<n?100/(2*n)+100*(e-1)/n:100,this.find(".step-bar-active").animate({width:r+"%"},t.speed,function(){}),!0)},this},$.fn.step.defaults={animate:!0,speed:500,initStep:1,scrollTop:!0}});